import{d as P,_ as X,h as $,K as ae,u as le,r as h,j as R,Y as ce,O as U,M as J,n as V,o as O,v as re,aa as fe,a1 as j,a2 as ve,y as M,s as w,q as G,ab as de,T as pe,aJ as ne,m as ie,Q,a3 as ue,f as A,e as me,l as Z,w as F,L as be,a9 as Se,bN as he,D as Ee,a0 as ee,ap as ye,U as Te,p as we,x as ge,ae as _e,aj as te,z as ze,ad as W,F as I,bO as Le,bh as Ne,bP as He}from"./index-4ZyPtW_9.js";import{t as Re}from"./el-button-UrRY79N8.js";import{a as Ce}from"./base-a29vmd9G.js";const H=4,Ae={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Oe=({move:e,size:a,bar:l})=>({[l.size]:a,transform:`translate${l.axis}(${e}%)`}),q=Symbol("scrollbarContextKey"),Me=P({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),De="Thumb",ke=$({__name:"thumb",props:Me,setup(e){const a=e,l=ae(q),o=le("scrollbar");l||Re(De,"can not inject scrollbar context");const r=h(),i=h(),d=h({}),p=h(!1);let u=!1,c=!1,m=0,E=0,n=ne?document.onselectstart:null;const t=R(()=>Ae[a.vertical?"vertical":"horizontal"]),S=R(()=>Oe({size:a.size,move:a.move,bar:t.value})),y=R(()=>r.value[t.value.offset]**2/l.wrapElement[t.value.scrollSize]/a.ratio/i.value[t.value.offset]),L=v=>{var T;if(v.stopPropagation(),v.ctrlKey||[1,2].includes(v.button))return;(T=window.getSelection())==null||T.removeAllRanges(),_(v);const b=v.currentTarget;b&&(d.value[t.value.axis]=b[t.value.offset]-(v[t.value.client]-b.getBoundingClientRect()[t.value.direction]))},g=v=>{if(!i.value||!r.value||!l.wrapElement)return;const T=Math.abs(v.target.getBoundingClientRect()[t.value.direction]-v[t.value.client]),b=i.value[t.value.offset]/2,s=(T-b)*100*y.value/r.value[t.value.offset];l.wrapElement[t.value.scroll]=s*l.wrapElement[t.value.scrollSize]/100},_=v=>{v.stopImmediatePropagation(),u=!0,m=l.wrapElement.scrollHeight,E=l.wrapElement.scrollWidth,document.addEventListener("mousemove",D),document.addEventListener("mouseup",C),n=document.onselectstart,document.onselectstart=()=>!1},D=v=>{if(!r.value||!i.value||u===!1)return;const T=d.value[t.value.axis];if(!T)return;const b=(r.value.getBoundingClientRect()[t.value.direction]-v[t.value.client])*-1,s=i.value[t.value.offset]-T,f=(b-s)*100*y.value/r.value[t.value.offset];t.value.scroll==="scrollLeft"?l.wrapElement[t.value.scroll]=f*E/100:l.wrapElement[t.value.scroll]=f*m/100},C=()=>{u=!1,d.value[t.value.axis]=0,document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",C),x(),c&&(p.value=!1)},K=()=>{c=!1,p.value=!!a.size},k=()=>{c=!0,p.value=u};ce(()=>{x(),document.removeEventListener("mouseup",C)});const x=()=>{document.onselectstart!==n&&(document.onselectstart=n)};return U(J(l,"scrollbarElement"),"mousemove",K),U(J(l,"scrollbarElement"),"mouseleave",k),(v,T)=>(O(),V(pe,{name:w(o).b("fade"),persisted:""},{default:re(()=>[fe(j("div",{ref_key:"instance",ref:r,class:M([w(o).e("bar"),w(o).is(w(t).key)]),onMousedown:g,onClick:ve(()=>{},["stop"])},[j("div",{ref_key:"thumb",ref:i,class:M(w(o).e("thumb")),style:G(w(S)),onMousedown:L},null,38)],42,["onClick"]),[[de,v.always||p.value]])]),_:1},8,["name"]))}});var oe=X(ke,[["__file","thumb.vue"]]);const xe=P({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Be=$({__name:"bar",props:xe,setup(e,{expose:a}){const l=e,o=ae(q),r=h(0),i=h(0),d=h(""),p=h(""),u=h(1),c=h(1);return a({handleScroll:n=>{if(n){const t=n.offsetHeight-H,S=n.offsetWidth-H;i.value=n.scrollTop*100/t*u.value,r.value=n.scrollLeft*100/S*c.value}},update:()=>{const n=o?.wrapElement;if(!n)return;const t=n.offsetHeight-H,S=n.offsetWidth-H,y=t**2/n.scrollHeight,L=S**2/n.scrollWidth,g=Math.max(y,l.minSize),_=Math.max(L,l.minSize);u.value=y/(t-y)/(g/(t-g)),c.value=L/(S-L)/(_/(S-_)),p.value=g+H<t?`${g}px`:"",d.value=_+H<S?`${_}px`:""}}),(n,t)=>(O(),ie(ue,null,[Q(oe,{move:r.value,ratio:c.value,size:d.value,always:n.always},null,8,["move","ratio","size","always"]),Q(oe,{move:i.value,ratio:u.value,size:p.value,vertical:"",always:n.always},null,8,["move","ratio","size","always"])],64))}});var Ye=X(Be,[["__file","bar.vue"]]);const We=P({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ce(["ariaLabel","ariaOrientation"])}),Ie={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:a})=>[e,a].every(A)},$e="ElScrollbar",Ke=$({name:$e}),Ue=$({...Ke,props:We,emits:Ie,setup(e,{expose:a,emit:l}){const o=e,r=le("scrollbar");let i,d,p,u=0,c=0,m="";const E={bottom:!1,top:!1,right:!1,left:!1},n=h(),t=h(),S=h(),y=h(),L=R(()=>{const s={};return o.height&&(s.height=Z(o.height)),o.maxHeight&&(s.maxHeight=Z(o.maxHeight)),[o.wrapStyle,s]}),g=R(()=>[o.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!o.native}]),_=R(()=>[r.e("view"),o.viewClass]),D=s=>{var f;return(f=E[s])!=null?f:!1},C={top:"bottom",bottom:"top",left:"right",right:"left"},K=s=>{const f=C[m];if(!f)return;const N=s[m],B=s[f];N&&!E[m]&&(E[m]=!0),!B&&E[f]&&(E[f]=!1)},k=()=>{var s;if(t.value){(s=y.value)==null||s.handleScroll(t.value);const f=u,N=c;u=t.value.scrollTop,c=t.value.scrollLeft;const B={bottom:u+t.value.clientHeight>=t.value.scrollHeight-o.distance,top:u<=o.distance&&f!==0,right:c+t.value.clientWidth>=t.value.scrollWidth-o.distance&&N!==c,left:c<=o.distance&&N!==0};if(l("scroll",{scrollTop:u,scrollLeft:c}),f!==u&&(m=u>f?"bottom":"top"),N!==c&&(m=c>N?"right":"left"),o.distance>0){if(D(m))return;K(B)}B[m]&&l("end-reached",m)}};function x(s,f){_e(s)?t.value.scrollTo(s):A(s)&&A(f)&&t.value.scrollTo(s,f)}const v=s=>{A(s)&&(t.value.scrollTop=s)},T=s=>{A(s)&&(t.value.scrollLeft=s)},b=()=>{var s;(s=y.value)==null||s.update(),E[m]=!1};return F(()=>o.noresize,s=>{s?(i?.(),d?.(),p?.()):({stop:i}=te(S,b),{stop:d}=te(t,b),p=U("resize",b))},{immediate:!0}),F(()=>[o.maxHeight,o.height],()=>{o.native||ee(()=>{var s;b(),t.value&&((s=y.value)==null||s.handleScroll(t.value))})}),be(q,Se({scrollbarElement:n,wrapElement:t})),he(()=>{t.value&&(t.value.scrollTop=u,t.value.scrollLeft=c)}),Ee(()=>{o.native||ee(()=>{b()})}),ye(()=>b()),a({wrapRef:t,update:b,scrollTo:x,setScrollTop:v,setScrollLeft:T,handleScroll:k}),(s,f)=>(O(),ie("div",{ref_key:"scrollbarRef",ref:n,class:M(w(r).b())},[j("div",{ref_key:"wrapRef",ref:t,class:M(w(g)),style:G(w(L)),tabindex:s.tabindex,onScroll:k},[(O(),V(ge(s.tag),{id:s.id,ref_key:"resizeRef",ref:S,class:M(w(_)),style:G(s.viewStyle),role:s.role,"aria-label":s.ariaLabel,"aria-orientation":s.ariaOrientation},{default:re(()=>[we(s.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),s.native?Te("v-if",!0):(O(),V(Ye,{key:0,ref_key:"barRef",ref:y,always:s.always,"min-size":s.minSize},null,8,["always","min-size"]))],2))}});var Ve=X(Ue,[["__file","scrollbar.vue"]]);const Je=ze(Ve);var je=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(je||{});const Y=e=>{const a=W(e)?e:[e],l=[];return a.forEach(o=>{var r;W(o)?l.push(...Y(o)):I(o)&&((r=o.component)!=null&&r.subTree)?l.push(o,...Y(o.component.subTree)):I(o)&&W(o.children)?l.push(...Y(o.children)):I(o)&&o.shapeFlag===2?l.push(...Y(o.type())):l.push(o)}),l};function Ge(e){return e.some(a=>I(a)?!(a.type===Le||a.type===ue&&!Ge(a.children)):!0)?e:null}const z=new Map;if(ne){let e;document.addEventListener("mousedown",a=>e=a),document.addEventListener("mouseup",a=>{if(e){for(const l of z.values())for(const{documentHandler:o}of l)o(a,e);e=void 0}})}function se(e,a){let l=[];return W(a.arg)?l=a.arg:Ne(a.arg)&&l.push(a.arg),function(o,r){const i=a.instance.popperRef,d=o.target,p=r?.target,u=!a||!a.instance,c=!d||!p,m=e.contains(d)||e.contains(p),E=e===d,n=l.length&&l.some(S=>S?.contains(d))||l.length&&l.includes(p),t=i&&(i.contains(d)||i.contains(p));u||c||m||E||n||t||a.value(o,r)}}const Qe={beforeMount(e,a){z.has(e)||z.set(e,[]),z.get(e).push({documentHandler:se(e,a),bindingFn:a.value})},updated(e,a){z.has(e)||z.set(e,[]);const l=z.get(e),o=l.findIndex(i=>i.bindingFn===a.oldValue),r={documentHandler:se(e,a),bindingFn:a.value};o>=0?l.splice(o,1,r):l.push(r)},unmounted(e){z.delete(e)}},Ze=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Fe=e=>He(e);export{Qe as C,Je as E,je as P,Ze as a,Fe as c,Ge as e,Y as f,Ie as s};
